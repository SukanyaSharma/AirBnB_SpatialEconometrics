data <- read.delim('enhanced_dataset_v2.txt', header = T, sep=',')
View(data)
attach(data)
names(date)
names(data)
indeps <- cbind(log_BART_dist, log_CBD_dist, log_MHI, coastal_tracts_dummy, percent_bachelors_degree, percent_unempl, percent_foreign_born, percent_non_white, percent_airbnb.all_rentals.)
View(indeps)
indeps.all_rent <- cbind(log_BART_dist, log_CBD_dist, log_MHI, coastal_tracts_dummy, percent_bachelors_degree, percent_unempl, percent_foreign_born, percent_non_white, percent_airbnb.all_rentals.)
rm(indeps)
mat <- cor(indeps.all_rent)
print(mat)
View(mat)
cor.test(percent_bachelors_degree, log_MHI)
cor.test(percent_bachelors_degree, log_BART_dist)
cor.test(percent_unempl, log_MHI)
cor.test(percent_foreign_born, log_MHI)
cor.test(percent_non_white, log_BART_dist)
indeps.all_rent_v2 <- cbind(log_BART_dist, log_CBD_dist, log_MHI, coastal_tracts_dummy, percent_airbnb.all_rentals.)
install.package("car", dependencies=T)
install.packages("car", dependencies=T)
library('car')
install.packages('pbkrtest')
install.packages('lme4')
install.packages('Matrix')
library('car')
install.packages('car', dependencies = T)
library('car')
install.packages('rgl')
install.packages('X11')
spm(indeps.all_rent_v2)
car
library('car')
library('car')?
q
?library('car')
library()
library(car)
View(indeps.all_rent_v2)
View(indeps.all_rent_v2)
lm(rent_burdened ~ log_BART_dist + log_CBD_dist + log_MHI + coastal_tracts_dummy + percent_airbnb.all_rentals.)
rgl <- lm(rent_burdened ~ log_BART_dist + log_CBD_dist + log_MHI + coastal_tracts_dummy + percent_airbnb.all_rentals.)
summary(rgl)
install.packages('stargazer')
library(stargazer)
stargazer(rgl)
rgl <- lm(rent_overburdened ~ log_BART_dist + log_CBD_dist + log_MHI + coastal_tracts_dummy + percent_airbnb.all_rentals.)
summary(rgl)
stargazer(rgl)
View(rgl)
vif(rgl)
library(vif)
installed.packages('vif')
installed.packages('car')
library(vif)
library(car)
install.packages('car')
install.packages('if')
install.packages('vif')
install.packages('VIF')
library(vif)
library(VIF)
vif(rgl)
install.packages("car")
install.packages("car")
library(car)
rm(vif)
spm(indeps.all_rent_v2)
vif(rgl)
Vif_indicator <- vif(rgl)
rm(Vif_indicator)
Multicollinearity_indicator <- vif(rgl)
rgl_v1 <- lm(rent_overburdened ~ log_BART_dist + log_CBD_dist + log_MHI + coastal_tracts_dummy + percent_airbnb.all_rentals. + percent_non_white + percent_foreign_born)
Multicollinearity_indicator <- vif(rgl_v1)
Multicollinearity_indicator <- vif(rgl)
vif(rgl_v1)
spm(indeps.all_rent)
vif(rgl)
stargazer(Multicollinearity_indicator)
install.packages("spdep")
library(spdeps)
library(spdep)
mat
View(mat)
View(data)
Y <- cbind(rent_burdened)
Y
X <- cbind(indeps.all_rent_v2)
X
xy = cbind(data$X, data$Y)
xy
View(data)
attach(data)
data
View(data)
data
attach(data)
data(data)
data(enhanced_dataset_v2.txt)
data('enhanced_dataset_v2.txt')
data <- read.delim('enhanced_dataset_v2.txt', header = T, sep=',')
library(spdep)
data(data)
data(enhanced_dataset_v2)
data(enhanced_dataset_v2.csv)
rm(data)
mydata <- read.delim('enhanced_dataset_v2.csv', header = T, sep=',')
mydata
library(spdep)
data(mydata)
data()
attach(mydata)
mydata$X
attach(mydata)
data <- read.delim('enhanced_dataset_v2.txt', header = T, sep=',')
attach(data)
View(data)
attach(data)
rm(data)
rm(mydata)
mydata
mydata <- read.delim('enhanced_dataset_v2.txt', header = T, sep=',')
attach(mydata)
detach()
detach(mydata)
detach(mydata)
detach(mydata)
detach(mydata)
detach(data)
detach(data)
detach(data)
detach(data)
detach(data)
detach(data)
detach(data)
mydata
attach(mydata)
Y
mydata$X
mydata$Y
Y <- cbind(rent_burdened)
Y
Y
mydata$Y
data$Y
mydata$rent_burdened
mydata$X
mydata$indeps.all_rent_v2
indeps.all_rent_v2
xy = cbind(indeps.all_rent_v2, rent_burdened)
xy
View(xy)
col.gal.nb
View(col.gal.nb)
install.packages('sp')
install.packages("sp")
install.packages("rgdal")
install.packages("rgdal")
install.packages("rgdal")
install.packages("maptools")
install.packages("DCluster")
install.packages("gstat")
install.packages("geoR")
install.packages("spatial")
install.packages("splancs")
install.packages("spatstat")
library(spdep)
readShapePloy()
readShapePoly()
library(maptools)
gpclibPermit()
library(maptools)
shpfile = readShapePoly('MAIN_CT_All/ALL_TRACTS_ALL_DATA.shp')
shpfile = readOGR('MAIN_CT_All/ALL_TRACTS_ALL_DATA.shp')
library(rgdal)
shpfile = readOGR('MAIN_CT_All/ALL_TRACTS_ALL_DATA.shp')
View(shpfile)
plot(shpfile)
poly2nb(shpfile)
neighbors <- poly2nb(shpfile)
View(neighbors)
coords
View(shpfile)
lat <- shpfile$INTPTLAT
lat
long <- shpfile$INTPTLON
coords <- cbind(lat,long)
coords
lat
long
coords
coords <- c(lat,long)
coords
coords <- long + lat
coords <- ~long + lat
coords
list(lat)
coords <- ~list(long) + list(lat)
coords
coords <- c(list(lat),list(long))
coords
View(coords)
View(coords)
View(indeps.all_rent)
View(coords)
View(coords)
lat <- matrix(shpfile$INTPTLAT)
lat
long <- matrix(shpfile$INTPTLON)
coords = cbind(long, lat)
coords
View(coords)
mydf <- structure(list(longitude=c(shpfile$INTPTLON), latitude=c(shpfile$INTPTLAT)), .Names=c('longitude', 'latitude'), class='data.frame', row.names=c(NA, -8L))
mydf
mydf <- structure(list(longitude=c(shpfile$INTPTLON), latitude=c(shpfile$INTPTLAT)), .Names=c('longitude', 'latitude'), class='data.frame')
mydf
sapply(coords, as.numeric)
coords2<-sapply(coords, as.numeric)
coords2
coords
coords2 <- mapply(coords, FUN=as.numeric)
coords2
lat <- matrix(shpfile$INTPTLAT)
lat
lat <- mapply(lat, FUN=as.numeric)
lat
lat <- matrix(lat)
lat
long <- mapply(long, FUN=as.numeric)
long <- matrix(long)
coords <- cbind(long, lat)
coords
View(coords)
View(coords)
neighbors
summary(neighbors)
stargazer(summary(neighbors))
library(stargazer)
stargazer(summary(neighbors))
stargazer(neighbors)
plot(neighbors, coords)
summary(Y)
summary(X)
olsreg <- lm(Y~X)
summary(olsreg)
stargazer(olsreg)
listw <- nb2listw(neighbors)
neighbors
listw <- nb2listw(neighbors[:175])
listw <- nb2listw(neighbors[::175])
zero.policy=T
listw <- nb2listw(neighbors[::175])
listw <- nb2listw(neighbors)
listw <- nb2listw(neighbors, zero.policy = T)
listw
listw <- nb2listw(neighbors, zero.policy = TRUE)
summary(listw)
summary(listw, zero.policy=T)
View(listw)
View(listw)
stargazer(listw)
View(listw)
moran.test(Y, listw)
len(Y)
moran.test(Y, listw, zero.policy = TRUE)
Y
listw
summary(listw, zero.policy=T)
length(Y)
length(listw)
moran.test(mydata$rent_burdened, listw)
length(mydata$rent_burdened)
length(listw)
length(listw, zero.policy=T)
length(listw[0])
length(listw[1])
length(listw[2])
length(listw[3])
length(listw[-1])
length(listw[-2])
length(listw[-3])
length(listw[1:])
length(listw[1::])
moran.test(mydata$rent_burdened, listw, zero.policy = T)
moran.test(mydata$rent_burdened, listw, zero.policy = TRUE)
moran.test(mydata$rent_burdened, listw, zero.policy = TRUE, adjust.n = T)
neighbors
View(neighbors)
neighbors[1:176]
neighbors[178:976]
neighbors[178:185]
neighbors[178:-1]
neighbors2 <- c(neighbors[1:176], neighbors[178:976])
neighbors2
listw <- nb2listw(neighbors2)
View(neighbors)
View(neighbors)
summary(neighbors2)
summary(neighbors)
edit.nb(neighbors, coords=176)
edit.nb(neighbors,  name = 177)
edit.nb(neighbors,  use_region.id = T, coords=176)
edit.nb(neighbors,  use_region.id = T, coords=177)
edit.nb(neighbors,  use_region.id=177)
edit.nb(neighbors,  use_region.id=T, name=177)
neighbors[[177]]
neighbors[[177]] = NULL
neighbors
summary(neighbors)
listw <- nb2listw(neighbors)
moran.test(mydata$rent_burdened, listw)
View(listw)
moran.test(mydata$rent_burdened, listw[2])
moran.test(mydata$rent_burdened, listw)
moran.test(mydata$rent_burdened, listw$weights)
listw <- nb2listw(neighbors)
summary(listw)
summary(listw)
listw <- nb2listw(neighbors)
moran.test(mydata$rent_burdened, listw$weights)
moran.test?
q
help("moran.test")
listw <- nb2listw(neighbors)
rm(listw)
listw <- nb2listw(neighbors)
View(listw)
View(listw)
listw$neighbours=NULL
View(listw)
listw$neighbours[[177]] = NULL
View(listw)
View(listw)
View(listw)
View(listw)
listw[["neighbours"]]
listw[["style"]]
listw <- nb2listw(neighbors)
listw$neighbours[[177]] = NULL
rm(listw)
listw <- nb2listw(neighbors)
listw$neighbours[[177]] = NULL
View(listw)
rm(listw)
listw <- nb2listw(neighbors)
listw
moran.test(mydata$rent_burdened, listw)
mydata$rent_burdened
View(mydata)
newdata <- read.delim('all_data_all_tracts.csv', header = T, sep=',')
newdata
newdata <- read.delim('all_data_all_tracts.csv', header = T, sep=',')
newdata
library(spdep)
attach(newdata)
